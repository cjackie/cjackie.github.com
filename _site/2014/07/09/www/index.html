<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      How html, css and js work in browsers &middot; Chaojie's Blog
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/lanyon.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body>

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <img src="/images/profile.png">
    <p>Writings inspired from daily life.</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">Home</a>

    

    
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="/about/">About</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/archive/">All posts</a>
        
      
    
      
    
      
        
      
    
    
    <a class="sidebar-nav-item" href="https://github.com/cjackie">GitHub</a>
    <a class="sidebar-nav-item" href="https://www.linkedin.com/pub/chaojie-wang/6b/a7a/290">Linkedin</a>
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2014. All rights reserved.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Chaojie's Blog</a>
            <small>starry night</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="post">
  <h1 class="post-title">How html, css and js work in browsers</h1>
  <span class="post-date">09 Jul 2014</span>
  <h3>Introduction</h3>

<p>We often take things for granted, and web is one of them. Lots of things going on behind the scene when you open up a website. Once you understand what&#39;s going on underneath the hook, you will be able to optimize your website, and make the best out of browsers.</p>

<h3>Brief History</h3>

<p>At the beginning of Internet, Browsers were implemented to process a protocol called HTTP. Back then, web pages were all static, which means once you load the content, it won&#39;t change. Then Javascript came around, which makes it possible to change elements on the page dynamically. Javascript wasn&#39;t taken seriously until the book called JavaScript: The Good Parts in 2008. Later we saw a huge progress in web is made in last few years. Websites became more interactive, more dynamic, and more complex. </p>

<h3>How websites work in browsers</h3>

<p>Here I&#39;m going to make a over-simplified version of what&#39;s going on. Although different browsers works different, but they all follow more or less same blue-print. First, when you open up the url, a HTTP request will be sent. A remote Server will receive the request, process it and then return a HTTP response. The response can contain any data. The browser will parse the response and determine what it is. Let&#39;s say it&#39;s a html. The browser will be start to parse the html into DOM tree. In this process, if it might send out more HTTP request to get javascripts, css, images and so on. Some request will block the contructing process, for example, css and javascript if you don&#39;t make it async or defer. Upon getting css files, the browser will contructing CSSOM , another tree-like constructure. Taken the DOM and CSSOM, the browser will start to render the page. Since there is javacript, which can modify DOM and CSSOM, page might be rendered over time. which makes it dynamic.</p>

<h3>Some usefully strategies to minimize latency of websites</h3>

<ul>
<li>Minimize data being transfer over to clients. for example compress css, js and html.</li>
<li>Don&#39;t block contructing DOM process. for example, make js asyn. make less HTTP request.</li>
</ul>

</div>

<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/2014/07/17/email/">
            Email
            <small>17 Jul 2014</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2014/07/05/mindset/">
            一些感想
            <small>05 Jul 2014</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2014/07/01/handleAsyncCode/">
            Ways to handle asynchronous code in Javascript
            <small>01 Jul 2014</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>
  </body>
</html>
